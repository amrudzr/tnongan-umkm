<!DOCTYPE html>
<html lang="id" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Lengkap - Tnongan</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* Mengaplikasikan font Poppins ke seluruh halaman */
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>

<body class="bg-stone-50 text-stone-800">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto flex justify-between items-center p-4">

            <a href="index.html" class="text-2xl font-bold text-red-800">Tnongan</a>

            <nav class="hidden md:block">
                <ul class="flex space-x-8">
                    <li><a href="index.html" class="text-stone-600 hover:text-red-700 transition-colors">Beranda</a>
                    </li>
                    <li><a href="menu.html" class="text-red-700 font-semibold border-b-2 border-red-700 pb-1">Menu</a>
                    </li>
                    <li><a href="about.html" class="text-stone-600 hover:text-red-700 transition-colors">Tentang Kami</a></li>
                </ul>
            </nav>

            <button id="menu-toggle" class="md:hidden text-2xl text-stone-800 hover:text-red-700">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>

        <div id="mobile-menu"
            class="hidden md:hidden absolute top-full left-0 w-full bg-white shadow-xl border-t border-stone-200">
            <ul class="flex flex-col">
                <li><a href="index.html"
                        class="block p-4 text-center font-medium text-stone-700 hover:bg-stone-100">Beranda</a>
                </li>
                <li><a href="menu.html" class="block p-4 text-center font-semibold text-red-700 bg-red-50">Menu</a></li>
                <li><a href="about.html" class="block p-4 text-center font-medium text-stone-700 hover:bg-stone-100">Tentang Kami</a></li>
            </ul>
        </div>
    </header>

    <main>
        <section class="py-12 bg-stone-100 border-b border-stone-200">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl md:text-4xl font-bold">Katalog Produk Kami</h2>
                <p class="text-stone-600 mt-2">Cari, filter, dan temukan kue favorit Anda.</p>
            </div>
        </section>

        <section id="katalog-controls" class="container mx-auto px-4 py-8" aria-label="Panel kontrol katalog">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end">

                <div class="flex flex-col">
                    <label for="search" class="text-sm font-medium text-stone-600 mb-1">Cari produk</label>
                    <input id="search" type="search" placeholder="mis. kue bulan, bakpia..." autocomplete="off"
                        class="w-full px-4 py-2 border border-stone-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-700" />
                </div>

                <div class="flex flex-col">
                    <label for="category" class="text-sm font-medium text-stone-600 mb-1">Kategori</label>
                    <select id="category"
                        class="w-full px-4 py-2 border border-stone-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-700 bg-white">
                        <option value="ALL">Semua Kategori</option>
                    </select>
                </div>

                <div class="flex flex-col">
                    <label for="sort" class="text-sm font-medium text-stone-600 mb-1">Urutkan</label>
                    <select id="sort"
                        class="w-full px-4 py-2 border border-stone-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-700 bg-white">
                        <option value="name-asc">Nama (A–Z)</option>
                        <option value="price-asc">Harga (Termurah)</option>
                        <option value="price-desc">Harga (Termahal)</option>
                    </select>
                </div>

                <div class="text-right font-semibold text-stone-700 lg:col-start-4">
                    <span id="count" aria-live="polite" aria-atomic="true">Hasil: 0</span>
                </div>
            </div>
        </section>

        <section aria-label="Daftar produk" class="pb-20">
            <ul id="list" class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            </ul>
        </section>

    </main>

    <div id="cookie-consent-banner" class="hidden fixed bottom-0 left-0 w-full bg-stone-900 text-white p-6 z-50">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <p class="text-sm text-center md:text-left text-stone-300">
                Situs ini menggunakan cookie untuk tujuan pembelajaran (tugas kuliah). Kami tidak melacak data pribadi
                Anda.
            </p>
            <button id="accept-cookie-btn"
                class="bg-amber-500 text-stone-900 font-bold px-5 py-2 rounded-full hover:bg-amber-600 transition-colors flex-shrink-0">
                Saya Mengerti
            </button>
        </div>
    </div>
    <footer class="bg-stone-800 text-white pt-12 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Tnongan</h3>
                    <p class="text-stone-400">Menghadirkan kehangatan tradisi dalam setiap gigitan kue. Dibuat dengan
                        cinta di Surakarta.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Hubungi Kami</h3>
                    <ul class="space-y-2 text-stone-400">
                        <li><strong>WhatsApp:</strong> <a href="#" class="hover:text-white">0812-3456-7890</a></li>
                        <li><strong>Alamat:</strong> Jl. Dr. Rajiman No. 123, Laweyan, Surakarta, Jawa Tengah</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Ikuti Kami</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-stone-400 text-2xl hover:text-white transition-colors"
                            aria-label="Instagram">
                            <i class="fa-brands fa-instagram"></i>
                        </a>
                        <a href="#" class="text-stone-400 text-2xl hover:text-white transition-colors"
                            aria-label="TikTok">
                            <i class="fa-brands fa-tiktok"></i>
                        </a>
                        <a href="#" class="text-stone-400 text-2xl hover:text-white transition-colors"
                            aria-label="Facebook">
                            <i class="fa-brands fa-facebook"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-stone-700 mt-8 pt-6 text-center text-stone-500 text-sm">
                <p>© 2025 Tnongan. Dibuat untuk Tugas Kuliah.</p>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true,
        });
    </script>

    <script>
        document.getElementById('menu-toggle').addEventListener('click', function () {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
    </script>

    <script src="scripts/data.js"></script>
    <script src="scripts/app.js"></script>

    <script>
        (function () {
            // --- Fungsi Helper untuk Cookie ---

            /**
             * Membuat cookie baru.
             * @param {string} name - Nama cookie.
             * @param {string} value - Isi cookie.
             * @param {number} days - Masa berlaku dalam hari.
             */
            function setCookie(name, value, days) {
                let expires = "";
                if (days) {
                    const date = new Date();
                    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                    expires = "; expires=" + date.toUTCString();
                }
                // Menambahkan SameSite=Lax untuk keamanan modern
                document.cookie = name + "=" + (value || "") + expires + "; path=/; SameSite=Lax";
            }

            /**
             * Membaca isi cookie berdasarkan nama.
             * @param {string} name - Nama cookie.
             * @returns {string|null} - Isi cookie atau null jika tidak ditemukan.
             */
            function getCookie(name) {
                const nameEQ = name + "=";
                const ca = document.cookie.split(';');
                for (let i = 0; i < ca.length; i++) {
                    let c = ca[i];
                    while (c.charAt(0) == ' ') c = c.substring(1, c.length);
                    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
                }
                return null;
            }

            // --- Logika Utama Banner ---

            const banner = document.getElementById('cookie-consent-banner');
            const acceptBtn = document.getElementById('accept-cookie-btn');
            const cookieName = 'tnongan_consent';

            if (!banner || !acceptBtn) {
                // Failsafe jika elemen tidak ditemukan
                return;
            }

            // 1. Cek saat halaman dimuat
            if (!getCookie(cookieName)) {
                // Jika cookie 'tnongan_consent' tidak ada, tampilkan banner
                banner.classList.remove('hidden');
            }

            // 2. Tambahkan event saat tombol diklik
            acceptBtn.addEventListener('click', function () {
                // Buat cookie yang berlaku selama 1 tahun (365 hari)
                setCookie(cookieName, 'true', 365);
                // Sembunyikan banner
                banner.classList.add('hidden');
            });
        })();
    </script>
</body>

</html>